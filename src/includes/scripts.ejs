<script src="/js/third-party/bootstrap.bundle.min.js"></script>
<script src="/js/third-party/jquery-3.6.min.js"></script>
<script src="/js/third-party/prism.js"></script>
<script src="/js/third-party/fuzzysort.js"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {dataLayer.push(arguments);}
  var GA_LOCAL_STORAGE_KEY = 'ga:clientId';
  if (window.localStorage) {
    (function() {
      gtag('gtm.start', new Date().getTime());
      gtag('config', 'GTM-MWC4FHS');
      gtag('event', 'gtm.js');
    }());
  }
</script>

<script src="https://www.googletagmanager.com/gtm.js?id=GTM-MWC4FHS"></script>

<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>
<script>
  docsearch({
    //appId: 'H6WO0X38VS',
    //apiKey: '5784b55341d8e08305fc280817fbda21',
    indexName: 'nightwatchjs',
    container: '#docsearch',
    apiKey: '37c74f46d0eab021bc430dc17ebfc089',
    // indexName: 'nightwatchjs',
    transformItems: function(items) {
      return items.map(function(item) {
        if (!item.content) {
          item.content = item.url.replace('#apimethod-page', '');
        }
        if (item.hierarchy && !item.hierarchy.lvl1) {
          item.hierarchy.lvl1 = item.content.replace('https://nightwatchjs.org/', '');
          item.type = 'lvl1';
        }
        return item;
      });
    },
    debug: false
  });
</script>

<script type="module" src="<%= url("~/src/js/app-esm.js") %>"></script>

<script type="module">
  import {onRender} from 'postdoc/client';

  onRender(() => {
    setTimeout(() => {
      Prism.highlightAll();
    }, 0);
  }, {forPage: () => true});
</script>